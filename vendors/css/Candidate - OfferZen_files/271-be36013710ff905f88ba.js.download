(window.webpackJsonp=window.webpackJsonp||[]).push([[271,27],{1899:function(e,t,a){"use strict";a.r(t),a.d(t,"FETCH_CITIZENSHIP",(function(){return r})),a.d(t,"FETCH_CITIZENSHIP_SUCCESS",(function(){return i})),a.d(t,"FETCH_CITIZENSHIP_ERROR",(function(){return o})),a.d(t,"FETCH_CITIZENSHIP_ATTACHMENTS",(function(){return c})),a.d(t,"FETCH_CITIZENSHIP_ATTACHMENTS_SUCCESS",(function(){return l})),a.d(t,"FETCH_CITIZENSHIP_ATTACHMENTS_ERROR",(function(){return s})),a.d(t,"UPDATE_CITIZENSHIP",(function(){return u})),a.d(t,"UPDATE_CITIZENSHIP_SUCCESS",(function(){return p})),a.d(t,"UPDATE_CITIZENSHIP_ERROR",(function(){return d})),a.d(t,"TOGGLE_CITIZENSHIP_STATUS",(function(){return m})),a.d(t,"fetchCitizenship",(function(){return h})),a.d(t,"fetchCitizenshipSuccess",(function(){return f})),a.d(t,"fetchCitizenshipError",(function(){return b})),a.d(t,"fetchCitizenshipAttachments",(function(){return g})),a.d(t,"fetchCitizenshipAttachmentsSuccess",(function(){return y})),a.d(t,"fetchCitizenshipAttachmentsError",(function(){return _})),a.d(t,"updateCitizenship",(function(){return v})),a.d(t,"updateCitizenshipSuccess",(function(){return w})),a.d(t,"updateCitizenshipError",(function(){return E})),a.d(t,"toggleCitizenshipStatus",(function(){return C})),a.d(t,"getCitizenshipStatusView",(function(){return S}));var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r="candidateExperience/views/citizenshipStatus/FETCH_CITIZENSHIP",i="candidateExperience/views/citizenshipStatus/FETCH_CITIZENSHIP_SUCCESS",o="candidateExperience/views/citizenshipStatus/FETCH_CITIZENSHIP_ERROR",c="candidateExperience/views/citizenshipStatus/FETCH_CITIZENSHIP_ATTACHMENTS",l="candidateExperience/views/citizenshipStatus/FETCH_CITIZENSHIP_ATTACHMENTS_SUCCESS",s="candidateExperience/views/citizenshipStatus/FETCH_CITIZENSHIP_ATTACHMENTS_ERROR",u="candidateExperience/views/citizenshipStatus/UPDATE_CITIZENSHIP",p="candidateExperience/views/citizenshipStatus/UPDATE_CITIZENSHIP_SUCCESS",d="candidateExperience/views/citizenshipStatus/UPDATE_CITIZENSHIP_ERROR",m="candidateExperience/views/citizenshipStatus/TOGGLE_CITIZENSHIP_STATUS",h=function(e){return{type:r,meta:{id:e},payload:{fetchingCitizenship:!0,fetchCitizenshipError:null}}},f=function(e){return{type:i,payload:{fetchingCitizenship:!1,lastUpdatedCitizenship:Date.now(),citizenship:e.id}}},b=function(e){return{type:o,error:!0,payload:new Error(e)}},g=function(e){return{type:c,meta:{citizenshipId:e},payload:{fetchingAttachments:!0,fetchAttachmentsError:null}}},y=function(e){return{type:l,payload:{fetchingAttachments:!1,lastUpdatedAttachments:Date.now(),attachments:e.map((function(e){return e.id}))}}},_=function(e){return{type:s,error:!0,payload:new Error(e)}},v=function(e,t,a,n){return{type:u,meta:{id:e,data:t,resolve:a,reject:n},payload:{updatingCitizenship:!0,updateCitizenshipError:null}}},w=function(e){return{type:p,payload:{updatingCitizenship:!1,lastUpdatedCitizenship:Date.now(),citizenship:e.id}}},E=function(e){return{type:d,error:!0,payload:new Error(e)}},C=function(e){return{type:m,payload:{editingCitizenshipStatus:e}}},O={citizenship:null,lastUpdatedCitizenship:null,fetchingCitizenship:!1,fetchCitizenshipError:null,updatingCitizenship:!1,updateCitizenshipError:null,attachments:[],lastUpdatedAttachments:null,fetchingAttachments:!1,fetchAttachmentsError:null,editingCitizenshipStatus:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments[1],a=t.type,h=t.payload;switch(a){case r:case i:case c:case l:case u:case p:case m:return n({},e,h);case o:return n({},e,{fetchingCitizenship:!1,fetchCitizenshipError:h});case s:return n({},e,{fetchingAttachments:!1,fetchAttachmentsError:h});case d:return n({},e,{updatingCitizenship:!1,updateCitizenshipError:h});default:return e}};var S=function(e){return e.views.citizenshipStatus||O}},1921:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return s}));var n=a(34),r=a.n(n),i=function(e){switch(e.permit_type){case"other":return"Other Permit";case"study":return"Study Permit";case"critical_skills":return"Critical Skills Permit - "+e.critical_skill;case"general_work":return e.permit_requires_critical_skill?"General Work Permit - "+e.critical_skill:"General Work Permit";default:return"I have a permit to work or study in South Africa"}},o=function(e){switch(e.citizenship_status){case"citizen":return["South African citizen"];case"permanent_resident":return["Permanent resident","You are able to work for any company in South Africa without restrictions."];case"not_authorized_for_work":return["Not currently authorised to work in South Africa","You will need to apply for a Critical Skills or General work permit before you can work in South Africa. Once you have a permit, OfferZen can help you to find a job."];case"work_permit":return e.permit_type?[i(e),"Expiring on "+r()(e.permit_expires_at,"D MMMM YYYY")].concat(function(e){switch(e.permit_type){case"other":return["Permit details: "+e.other_permit_details+".","Please reach out to your talent advisor to review the terms of your permit."];case"study":return["Your permit allows you to work for 20 hours a week. You will need an offer from a South African company to apply for a Critical Skills or General Work Permit."];case"general_work":var t=[];return e.permit_requires_critical_skill||e.permit_dependant_on_current_company||t.push("Your current permit allows you to work for any company in South Africa."),e.permit_requires_critical_skill&&t.push("Your current permit allows you to work for any company in South Africa as: "+e.critical_skill+"."),e.permit_dependant_on_current_company&&t.push("Your current employer’s name appears on your permit. You will need to apply for a change in conditions when you accept a job offer with a new company. This can take 6-8 weeks."),t.push("General Work permits cannot be renewed. You should look into applying for a Critical Skills permit."),t;case"critical_skills":return e.permit_dependant_on_current_company?["Your current employer’s name appears on your permit. You will need to apply for a change in conditions when you accept a job offer with a new company. This can take 6-8 weeks."]:["Your current permit allows you to work for any company in South Africa."];default:return[]}}(e)):[i(e)];default:return[]}},c=function(e){switch(e){case"citizen":return"flag";case"not_authorized_for_work":return"world";case"permanent_resident":case"work_permit":return"document";default:return""}},l={citizen:{id:"citizen",label:"Citizen"},permanent_resident:{id:"permanent_resident",label:"Permanent Resident"},work_permit:{id:"work_permit",label:"Work Permit"},not_authorized_for_work:{id:"not_authorized_for_work",label:"Not Authorized For Work"}},s={general_work:{id:"general_work",label:"General Work"},critical_skills:{id:"critical_skills",label:"Critical Skills"},study:{id:"study",label:"Study"},other:{id:"other",label:"Other"}}},1936:function(e,t,a){"use strict";a.d(t,"f",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"d",(function(){return d})),a.d(t,"g",(function(){return m})),a.d(t,"b",(function(){return h})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return b}));var n=a(11),r=a(597),i=a.n(r),o=a(1899),c=a(947),l=a(948),s=a(1921),u=Object(n.createSelector)(o.getCitizenshipStatusView,(function(e){return e.fetchingCitizenship||!e.lastUpdatedCitizenship})),p=Object(n.createSelector)([o.getCitizenshipStatusView,l.getCitizenshipAttachmentMap],(function(e,t){return e.attachments.map((function(e){var a=t[e];if(a)return{id:a.id,name:a.file_name,url:a.file_url}})).filter((function(e){return e}))})),d=Object(n.createSelector)(o.getCitizenshipStatusView,(function(e){return e.editingCitizenshipStatus})),m=Object(n.createSelector)([o.getCitizenshipStatusView,c.getCitizenshipMap,p],(function(e,t,a){var n=t[e.citizenship];return n?{icon:Object(s.c)(n.citizenship_status),description:Object(s.b)(n),attachments:a}:{}})),h=Object(n.createSelector)([o.getCitizenshipStatusView,c.getCitizenshipMap,p],(function(e,t,a){var n=t[e.citizenship];return n?{citizenship_status:n.citizenship_status,permit_type:n.permit_type,permit_expires_at:n.permit_expires_at,critical_skill:n.critical_skill,other_permit_details:n.other_permit_details,permit_requires_critical_skill:i()(n.permit_requires_critical_skill),permit_dependant_on_current_company:i()(n.permit_dependant_on_current_company),id:n.id,attachments:a}:{}})),f=Object(n.createSelector)([o.getCitizenshipStatusView,c.getCitizenshipMap],(function(e,t){var a=t[e.citizenship];return!!a&&!!a.citizenship_status})),b=Object(n.createSelector)([o.getCitizenshipStatusView,c.getCitizenshipMap],(function(e,t){var a=e.citizenship,n=e.attachments,r=t[a];if(!r)return!1;var i=r.citizenship_status,o=r.permit_type,c=r.permit_expires_at,l=r.critical_skill,s=r.permit_dependant_on_current_company,u=r.other_permit_details,p=r.permit_requires_critical_skill;if(["citizen","permanent_resident","not_authorized_for_work"].includes(i))return!0;if("work_permit"===i&&o&&c&&n.length>0){if("study"===o)return!0;if("other"===o&&u)return!0;if("critical_skills"===o&&l&&null!==s)return!0;if("general_work"===o&&null!==p&&null!==s)return!0}return!1}))},2161:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(204),o=a(134),c=a(555),l=a(66),s=a(2),u=a(3),p=a(6),d=a(8),m={wrapper:Object(s.css)({display:"flex",flexWrap:"wrap"}),badge:Object(s.css)({flex:"none",marginRight:u.h.default}),text:Object(s.css)({flex:1,"& p":{margin:Object(d.c)([u.h.small,0,0])},"& p:first-child":{fontWeight:u.e.semiBold,color:p.a.oxfordBlue,marginTop:"calc(15px - (0.5em * "+u.f.default+"))"}}),attachments:Object(s.css)({width:"100%",marginLeft:30+u.h.default}),attachment:Object(s.css)({margin:Object(d.c)([u.h.default,u.h.default,0,0]),fontFamily:u.c.body}),notification:Object(s.css)({marginBottom:u.h.default}),incompleteNotification:Object(s.css)({marginTop:u.h.default})},h=function(e){return r.a.createElement(n.Fragment,null,["live","ready_to_go_live"].includes(e.currentState)?r.a.createElement(o.a,{theme:"light",className:m.notification},"Please speak to your Talent Advisor if you would like to change your citizenship status."):null,r.a.createElement("div",{className:m.wrapper},r.a.createElement(i.a,{name:e.icon,size:"medium",theme:"light",className:m.badge}),r.a.createElement(l.a,{className:m.text},e.description.map((function(e,t){return r.a.createElement("p",{key:t},e)}),this)),r.a.createElement("div",{className:m.attachments},e.attachments.map((function(e,t){return r.a.createElement(c.a,{name:e.name,url:e.url,key:e.id,className:m.attachment})}),this))),e.sectionComplete||["live","ready_to_go_live"].includes(e.currentState)?null:r.a.createElement(o.a,{className:m.incompleteNotification,icon:"bell",theme:"warning",action:"Add permit details",onActionClick:function(){e.toggleEditing(!0),e.trackCompletionAction()}},"Please complete your permit information."))};t.a=h},2162:function(e,t,a){"use strict";var n,r,i,o=a(0),c=a.n(o),l=a(1130),s=a(1129),u=a(1126),p=a(84),d=a(525),m=a(69),h=a(71),f=a(894),b=a(178),g=a(893),y=a(66),_=a(61),v=a(1890),w=a(1914),E=a(2),C=a(8),O=a(3),S=a(6),k={collapsible:Object(E.css)({marginBottom:O.h.medium}),list:Object(E.css)({color:S.a.jumbo,fontSize:O.d.small,fontFamily:O.c.body,padding:0,margin:Object(C.c)([O.h.default,0,0,O.h.medium]),"& > li":{marginTop:O.h.extraSmall}}),statusRadio:Object(E.css)((n={width:"100%"},n[Object(C.b)(O.b.phone)]={width:"50%",minWidth:"max-content"},n["&:nth-child(4n)"]={paddingRight:0},n)),workPermitSection:Object(E.css)({marginTop:O.h.large,borderTop:"1px dashed "+S.a.mystic,paddingTop:O.h.medium}),workPermitFields:Object(E.css)((r={marginBottom:O.h.medium,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridRowGap:O.h.default,gridColumnGap:O.h.large,"& > div":{marginBottom:O.h.large},"@supports (display: grid)":{"& > div":{marginBottom:0}}},r[Object(C.b)(O.b.phone,"max-width")]={"& > div":{gridColumn:"1 / 3"}},r)),companyRadioGroup:Object(E.css)({gridColumn:"1 / 3"}),expiryField:Object(E.css)((i={},i[Object(C.b)(O.b.phone)]={gridColumn:"2 / 3",gridRow:"1 / 2"},i)),workPermitSectionField:Object(E.css)({width:"100%"}),attachmentHelperText:Object(E.css)({margin:Object(C.c)([O.h.medium,0,O.h.default])})},j={required:Object(_.j)("Required"),attachmentsLength:Object(_.d)(1,"The minimum number of attachments required is")},z=Object(s.a)({form:"citizenshipStatus",onSubmit:function(e,t,a){return new Promise((function(t,n){a.updateCitizenship(e,t,n)}))},onSubmitSuccess:function(e,t,a){return a.toggleEditing(!1)}})(Object(u.a)({citizenShipStatus:"citizenship_status",permitType:"permit_type",permitRequiresCriticalSkills:"permit_requires_critical_skill"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},e.error?c.a.createElement(p.a,{text:e.error}):null,c.a.createElement(w.a,{className:k.collapsible,title:"Sharing this information helps companies hire you. Here’s why…",trackEvent:e.trackProfileHelp},c.a.createElement(y.a,null,"When OfferZen understands your work permit status, we can show companies how easy it will be to hire you. We add simple, tailored information to your profile that explains what they need to do."),c.a.createElement("ul",{className:k.list},c.a.createElement("li",null,"Uploading your documents reduces uncertainty and prevents delays when companies want to make offers to you."),c.a.createElement("li",null,"Being transparent about your citizenship status prevents last minute disappointments, where companies that are unable to hire any foreign nationals have to cancel a job offer."))),c.a.createElement(l.a,{component:d.b,name:"citizenship_status",label:"What is your citizenship status?",hideLegend:!0,validate:j.required,onChange:function(){e.change("permit_type",null),e.change("permit_expires_at",null),e.change("permit_dependant_on_current_company",null),e.change("permit_requires_critical_skill",null),e.change("critical_skill",null),e.change("other_permit_details",null),e.change("attachments",[])}},c.a.createElement(d.a,{value:"citizen",label:"I am a South African citizen",className:k.statusRadio}),c.a.createElement(d.a,{value:"permanent_resident",label:"I am a permanent resident of South Africa",className:k.statusRadio}),c.a.createElement(d.a,{value:"work_permit",label:"I have a permit to work or study in South Africa",className:k.statusRadio}),c.a.createElement(d.a,{value:"not_authorized_for_work",label:"I am not currently authorized to work in South Africa",className:k.statusRadio})),"work_permit"===e.citizenShipStatus?c.a.createElement("div",{className:k.workPermitSection},c.a.createElement("div",{className:k.workPermitFields},c.a.createElement("div",null,c.a.createElement(m.a,{label:"What type of permit do you have?",htmlFor:"permit_type"}),c.a.createElement(l.a,{component:h.b,id:"permit_type",placeholder:"- select permit type -",name:"permit_type",className:k.workPermitSectionField,validate:j.required},c.a.createElement(h.a,{label:"Critical skills",value:"critical_skills"}),c.a.createElement(h.a,{label:"General work",value:"general_work"}),c.a.createElement(h.a,{label:"Study",value:"study"}),c.a.createElement(h.a,{label:"Other",value:"other"}))),"other"===e.permitType?c.a.createElement("div",null,c.a.createElement(m.a,{label:"Permit details",htmlFor:"other_permit_details"}),c.a.createElement(l.a,{component:b.a,id:"other_permit_details",placeholder:"Permit name",name:"other_permit_details",className:k.workPermitSectionField,validate:j.required})):null,"general_work"===e.permitType?c.a.createElement("div",null,c.a.createElement(l.a,{component:d.b,name:"permit_requires_critical_skill",label:"Are you required to work under a specific skill?",validate:j.required,onChange:function(){e.change("critical_skill",null)}},c.a.createElement(d.a,{value:"true",label:"Yes"}),c.a.createElement(d.a,{value:"false",label:"No"}))):null,"critical_skills"===e.permitType||"general_work"===e.permitType?[c.a.createElement("div",{key:"0"},c.a.createElement(m.a,{label:"general_work"===e.permitType?"What skill?":"What is your Critical Skill?",htmlFor:"critical_skill"}),c.a.createElement(l.a,{component:b.a,id:"critical_skill",placeholder:"general_work"===e.permitType?"Specify skill":"Critical skill",name:"critical_skill",className:k.workPermitSectionField,readOnly:"general_work"===e.permitType&&"true"!==e.permitRequiresCriticalSkills,validate:"critical_skills"===e.permitType||"true"===e.permitRequiresCriticalSkills?j.required:null})),c.a.createElement("div",{className:k.companyRadioGroup,key:"1"},c.a.createElement(l.a,{component:d.b,name:"permit_dependant_on_current_company",label:"Does your current company name appear on the permit?",validate:j.required},c.a.createElement(d.a,{value:"true",label:"Yes"}),c.a.createElement(d.a,{value:"false",label:"No"})))]:null,c.a.createElement("div",{className:k.expiryField},c.a.createElement(m.a,{label:"When does your permit expire?",htmlFor:"permit_expires_at"}),c.a.createElement(l.a,{component:f.a,id:"permit_expires_at",name:"permit_expires_at",placeholder:"Expiry date",className:k.workPermitSectionField,validate:j.required}))),c.a.createElement(y.a,null,c.a.createElement("p",{className:k.attachmentHelperText,id:"attachment_helper_text"},"Please upload a copy of your permit. If your permit is going to expire in 30 days or less please also upload a copy of your VFS (Visa Facilitation Services) proof of submission slip.")),c.a.createElement(l.a,{name:"attachments",label:"Add attachment",component:g.a,ariaDescribedby:"attachment_helper_text",validate:j.attachmentsLength})):null,c.a.createElement(v.a,{loading:e.submitting,showCancel:!0,theme:"primary",cancelEditing:function(){return e.toggleEditing(!1)}}))})));t.a=z},2235:function(e,t,a){"use strict";var n=a(0),r=a(17),i=a(1),o=a.n(i),c=a(795),l=a(1899),s=a(1912),u=a(1913),p=a(1936),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.fetchCitizenship()},t.prototype.render=function(){var e=this.props;return(0,e.children)(function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["children"]))},t}(n.Component);m.propTypes={candidateId:o.a.string.isRequired,children:o.a.func};var h=Object(r.connect)((function(e){return{loading:Object(p.f)(e),editing:Object(p.d)(e),previewData:Object(p.g)(e),citizenshipDetails:Object(p.b)(e),hasCitizenshipStatus:Object(p.e)(e),citizenshipStatusComplete:Object(p.c)(e),completionPercentage:Object(s.a)(e),currentState:Object(u.a)(e)}}),(function(e,t){return{toggleEditing:function(t){return e(l.toggleCitizenshipStatus(t))},fetchCitizenship:function(){return e(l.fetchCitizenship(t.candidateId))},updateCitizenship:function(a,n,r,i,o){e(l.updateCitizenship(t.candidateId,r,i,o)),e(c.b("Candidate: profile action",{action:"citizenship status update",citizenshipStatus:r.citizenship_status,permitType:r.permit_type,otherPermitName:r.other_permit_details,completionPercentage:a,currentState:n}))},trackProfileHelp:function(t,a){e(c.b("Candidate: profile help",{action:"open collapsible",topic:"citizenship status",completionPercentage:t,currentState:a}))},trackCompletionAction:function(t,a){e(c.b("Candidate: completion action",{section:"citizenship",completionPercentage:t,candidateState:a}))}}}),(function(e,t,a){return d({},e,t,a,{trackProfileHelp:function(){return t.trackProfileHelp(e.completionPercentage,e.currentState)},trackCompletionAction:function(){return t.trackCompletionAction(e.completionPercentage,e.currentState)},updateCitizenship:function(a,n,r){return t.updateCitizenship(e.completionPercentage,e.currentState,a,n,r)}})}))(m);t.a=h},2236:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(66),o=a(1893),c=function(e){var t=e.toggleEditing,a=e.currentState;return r.a.createElement(o.a,{svgName:"citizenship-documents",buttonAction:function(){return t(!0)},buttonLabel:"Add citizenship status",hideButton:["live","ready_to_go_live"].includes(a),theme:"primary"},r.a.createElement(i.a,null,"By sharing this information upfront it shows companies that they can hire you and how easy it will be."),r.a.createElement(i.a,null,"It communicates whether they will need to prepare anything from their side to avoid slowing down the process and getting you on their team."))};t.a=c},2359:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(2044),o=a(2235),c=a(2162),l=a(2161),s=a(2236),u=a(1257),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=e.incompleteSections,a=e.candidateId;return r.a.createElement(o.a,{candidateId:a},(function(e){return e.loading?r.a.createElement(u.a,null):r.a.createElement(i.b,{anchorId:"citizenship-status",complete:!t.includes("citizenship"),heading:"What is your citizenship status?",showCheck:!0,toggleEditing:!["live","ready_to_go_live"].includes(e.currentState)&&e.toggleEditing,editing:e.editing},e.editing?r.a.createElement(c.a,{initialValues:e.citizenshipDetails,toggleEditing:e.toggleEditing,updateCitizenship:e.updateCitizenship,trackProfileHelp:e.trackProfileHelp}):e.hasCitizenshipStatus?r.a.createElement(l.a,p({trackCompletionAction:e.trackCompletionAction,currentState:e.currentState,toggleEditing:e.toggleEditing,sectionComplete:e.citizenshipStatusComplete},e.previewData)):r.a.createElement(s.a,{currentState:e.currentState,toggleEditing:e.toggleEditing}))}))}},555:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(1),o=a.n(i),c=a(2),l=a(18),s=a(3),u=a(6),p={wrapper:Object(c.css)({boxSizing:"border-box",display:"inline-flex",alignItems:"center",borderRadius:s.a.default,fontSize:s.d.small,lineHeight:1,fontWeight:s.e.semiBold,"& > * + *":{marginLeft:s.h.small}}),icon:Object(c.css)({cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}),link:Object(c.css)({cursor:"pointer",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",textDecoration:"none",color:"inherit"})},d=function(e){var t=Object(u.b)(e);return"light"===e?Object(c.css)({backgroundColor:t.light,color:u.a.jumbo,"&:hover":{backgroundColor:t.medium,color:u.a.jumbo}}):Object(c.css)({backgroundColor:t.light,color:t.base,"&:hover":{backgroundColor:t.base,color:u.a.white,"& svg":{fill:u.a.white}}})},m=function(e){switch(e){case"small":return Object(c.css)({height:30,paddingLeft:s.h.default,paddingRight:s.h.small});default:return Object(c.css)({height:35,paddingLeft:s.h.default,paddingRight:s.h.small})}},h=function(e){switch(e){case"small":return Object(c.css)({marginRight:s.h.small});default:return Object(c.css)({marginRight:s.h.default})}},f=function(e){return"light"===e?u.a.jumbo:Object(u.b)(e).base},b=function(e){switch(e){case"small":return 16;default:return 18}},g=function(e){var t=e.name,a=e.url,n=e.theme,i=e.size,o=e.onClear,s=e.className,u=e.onDownload;return r.a.createElement("div",{className:Object(c.cx)(p.wrapper,s,d(n),m(i))},a&&!o?r.a.createElement("a",{href:a,download:t,onClick:u,rel:"noopener noreferrer",target:"_blank",className:p.link},r.a.createElement("span",{className:h(i)},t),r.a.createElement("span",{className:p.icon},r.a.createElement(l.a,{name:"arrow-end-down",size:b(i),color:f(n)}))):[r.a.createElement("span",{className:h(i),key:"0"},t),a?r.a.createElement("a",{href:a,download:t,rel:"noopener noreferrer",target:"_blank",className:p.icon,key:"1"},r.a.createElement(l.a,{name:"arrow-end-down",size:b(i),color:f(n)})):null,o?r.a.createElement("div",{className:p.icon,onClick:o,key:"2"},r.a.createElement(l.a,{name:"close",size:b(i),color:f(n)})):null])};g.propTypes={name:o.a.string.isRequired,url:o.a.string.isRequired,theme:o.a.oneOf(["","primary","secondary","success","warning","error","legacy","light","dark","tertiary","info"]),size:o.a.oneOf(["","default","small"]),onClear:o.a.func,onDownload:o.a.func,className:o.a.any},g.defaultProps={theme:"primary",size:"default"};var y=g;t.a=y},574:function(e,t,a){var n=a(26);e.exports=function(e){var t=n(e);return t.setHours(23,59,59,999),t}},600:function(e,t,a){var n=a(241);e.exports=function(e,t){var a=Number(t);return n(e,7*a)}},631:function(e,t,a){var n=a(26);e.exports=function(e,t){var a=n(e),r=n(t);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}},672:function(e,t,a){var n=a(206),r=6e4,i=6048e5;e.exports=function(e,t,a){var o=n(e,a),c=n(t,a),l=o.getTime()-o.getTimezoneOffset()*r,s=c.getTime()-c.getTimezoneOffset()*r;return Math.round((l-s)/i)}},673:function(e,t,a){var n=a(26);e.exports=function(e){return n(e).getDay()}},893:function(e,t,a){"use strict";var n,r,i=a(0),o=a.n(i),c=a(1),l=a.n(c),s=a(603),u=a.n(s),p=a(2),d=a(555),m=a(204),h=a(39),f=a(3),b=a(8),g=a(6),y={wrapper:Object(p.css)((n={display:"inline-flex",alignItems:"flex-start",flexWrap:"wrap",flexDirection:"column",fontFamily:f.c.body},n[Object(b.b)(f.b.phone)]={flexDirection:"row"},n)),label:Object(p.css)({display:"flex",alignItems:"center",cursor:"pointer",fontSize:f.d.default,lineHeight:1,minHeight:30,flex:"0 0 auto","&:hover":{textDecoration:"underline"},"& > * + *":{marginLeft:f.h.small}}),input:Object(p.css)({display:"none"}),attachments:Object(p.css)((r={margin:-f.h.extraSmall,marginTop:f.h.default,flex:1,display:"flex",flexWrap:"wrap"},r[Object(b.b)(f.b.phone)]={paddingLeft:f.h.medium,marginTop:-f.h.extraSmall},r)),file:Object(p.css)({margin:f.h.extraSmall,maxWidth:250,"& > span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}),errorWrapper:Object(p.css)({flex:"0 0 100%",marginTop:f.h.default})},_=function(e){if("light"===e)return Object(p.css)({color:g.a.jumbo});var t=Object(g.b)(e);return Object(p.css)({color:t.base})},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function w(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var a,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return a=n=E(this,e.call.apply(e,[this].concat(o))),n.state={error:[]},n.handleUpload=function(e){n.setState({error:[]}),Array.from(e.target.files).forEach((function(e){if(e)if(e.size>=10485760)n.setState({error:[].concat(n.state.error,["We could not upload the file "+e.name+", as it exceeds the 10MB limit."])});else{var t,a,i=new FileReader;i.onloadend=(t=regeneratorRuntime.mark((function t(a){var i,o,c,l,s,p,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(-1===(i={name:e.name,url:a.target.result}).url.indexOf("data:;")){t.next=7;break}if(o=u.a.lookup(e.name)){t.next=6;break}return n.setState({error:[].concat(n.state.error,["Unfortunately we can't process the file "+e.name+". Please try again with a different type of file."])}),t.abrupt("return");case 6:i.url=i.url.replace("data:;","data:"+o+";");case 7:c=n.props,l=c.input,s=w(c,["input"]),p=l.value||s.value,(d=l.onChange||s.onChange)&&d([].concat(p,[i]));case 11:case"end":return t.stop()}}),t,r)})),a=function(){var e=t.apply(this,arguments);return new Promise((function(t,a){return function n(r,i){try{var o=e[r](i),c=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(c)}("next")}))},function(e){return a.apply(this,arguments)}),i.readAsDataURL(e)}else n.setState({error:[].concat(n.state.error,["Unfortunately we can't process the file "+e.name+". Please try a different file."])})}))},n.clearUpload=function(e){n.setState({error:[]});var t=n.props,a=t.input,r=w(t,["input"]),i=a.value||r.value;i.splice(e,1);var o=a.onChange||r.onChange;o&&o(i)},E(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.meta,a=e.input,n=e.theme,r=e.label,i=w(e,["meta","input","theme","label"]),c=a.value||i.value,l=t.touched&&t.error||this.state.error.length>0,s=t.touched?[t.error]:this.state.error;return o.a.createElement("div",{className:Object(p.cx)(y.wrapper,i.className)},o.a.createElement("label",{htmlFor:i.id,className:Object(p.cx)(y.label,_(n))},o.a.createElement(m.a,{name:"clip",size:"default",theme:n}),o.a.createElement("span",null,r),o.a.createElement("input",v({},a,{id:i.id,type:"file",value:void 0,className:y.input,multiple:!0,onChange:this.handleUpload,onBlur:function(e){return e.preventDefault()},"aria-describedby":i.ariaDescribedby}))),c.length>0?o.a.createElement("div",{className:y.attachments},c.map((function(e,t){var a=this;return o.a.createElement(d.a,{key:"file-"+t,name:e.name,url:e.url,theme:n,size:"small",className:y.file,onClear:function(){return a.clearUpload(t)}})}),this)):null,l?o.a.createElement("div",{className:y.errorWrapper},s.map((function(e,t){return o.a.createElement(h.a,{key:"error-"+t,text:e})}),this)):null)},t}(i.Component);C.propTypes={meta:l.a.object,input:l.a.object,value:l.a.array,label:l.a.string,theme:l.a.oneOf(["","primary","secondary","success","warning","error","legacy","light","dark","tertiary","info"]),className:l.a.any,ariaDescribedby:l.a.string},C.defaultProps={meta:{},input:{},value:[],label:"Attach files",theme:"primary"};var O=C;t.a=O},894:function(e,t,a){"use strict";var n,r,i=a(0),o=a.n(i),c=a(1),l=a.n(c),s=a(2),u=a(241),p=a.n(u),d=a(426),m=a.n(d),h=a(600),f=a.n(h),b=a(672),g=a.n(b),y=a(574),_=a.n(y),v=a(34),w=a.n(v),E=a(673),C=a.n(E),O=a(104),S=a.n(O),k=a(256),j=a.n(k),z=a(557),x=a.n(z),T=a(631),I=a.n(T),N=a(246),P=a.n(N),A=a(123),D=a.n(A),R=a(505),H=a.n(R),F=a(30),M=a(39),W=a(56),U=a(18),Y=a(6),q=a(3),B=a(8),Z=a(10),L={wrapper:Object(s.css)({position:"relative",width:240,fontFamily:q.c.body}),wrapperError:Object(s.css)({"&:focus-within > div:last-child":{borderColor:Y.a.mandy,boxShadow:"0 0 0 2px "+Object(Z.a)(Y.a.mandy,.25)}}),label:Object(s.css)({position:"relative",display:"flex",alignItems:"center",boxSizing:"border-box",height:40,width:"100%",border:"1px solid "+Y.a.mystic,borderRadius:q.a.default,backgroundColor:Y.a.white,"&:focus":{outline:"none"},"&[readonly]":{pointerEvents:"none",cursor:"default",backgroundColor:Y.a.athensGray}}),openLabel:Object(s.css)({zIndex:q.i.level6}),errorLabel:Object(s.css)({borderColor:Y.a.mandy,"&:focus":{borderColor:Y.a.mandy,boxShadow:"0 0 0 2px "+Object(Z.a)(Y.a.mandy,.25)},"&:focus-within":{borderColor:Y.a.mandy,boxShadow:"0 0 0 2px "+Object(Z.a)(Y.a.mandy,.25)}}),input:Object(s.css)((n={cursor:"pointer",boxSizing:"border-box",width:"100%",height:"100%",backgroundColor:"transparent",color:Y.a.jumbo,fontFamily:q.c.body,fontSize:q.d.medium,lineHeight:1.2,padding:Object(B.c)([q.h.small,42,q.h.small,q.h.default]),appearance:"none",border:"none",borderRadius:q.a.default},n[Object(B.b)(q.b.tablet)]={fontSize:q.d.default},n["&::placeholder"]={color:Y.a.grayChateau,userSelect:"none"},n["&:focus"]={outline:"none"},n)),icon:Object(s.css)({position:"absolute",right:0,top:0,bottom:0,display:"flex",alignItems:"center",padding:Object(B.c)([0,q.h.default]),pointerEvents:"none"}),overlay:Object(s.css)({position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:q.i.level5}),body:Object(s.css)((r={position:"absolute",top:40,left:0,right:0,backgroundColor:Y.a.white,border:"1px solid "+Y.a.mystic,borderRadius:q.a.default,borderTopLeftRadius:0,borderTopRightRadius:0,marginTop:-1,zIndex:q.i.level6,userSelect:"none",fontSize:q.d.medium,"&:focus":{outline:"none"}},r[Object(B.b)(q.b.phone)]={fontSize:q.d.default},r)),calendarHeader:Object(s.css)({display:"flex",alignItems:"center",color:Y.a.oxfordBlue,padding:q.h.default,"& strong":{flex:1,textAlign:"center"}}),calendarNavigation:Object(s.css)({cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:"50%","&:hover":{backgroundColor:Y.a.geyser}}),calendar:Object(s.css)({marginTop:-q.h.small,marginBottom:-q.h.small,padding:Object(B.c)([0,q.h.small]),width:"100%",borderCollapse:"separate",borderSpacing:Object(B.c)([0,q.h.small]),"& th":{width:"calc(100% / 7)",textAlign:"center",fontWeight:q.e.regular}}),day:Object(s.css)({textAlign:"center",color:Y.a.oxfordBlue}),dayOut:Object(s.css)({color:Object(Z.a)(Y.a.oxfordBlue,.4)}),dayDisabled:Object(s.css)({color:Object(Z.a)(Y.a.oxfordBlue,.4),pointerEvents:"none"}),dayWrapper:Object(s.css)({display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",width:24,height:24,cursor:"pointer","&:hover":{backgroundColor:Y.a.mystic}}),dayWrapperOut:Object(s.css)({"&:hover":{backgroundColor:Object(Z.a)(Y.a.mystic,.5)}}),footer:Object(s.css)({display:"flex",padding:q.h.default,"& > *":{flex:1,padding:q.h.small+"px !important"},"& > * + *":{marginLeft:q.h.small}})},G=function(e){var t=Object(Y.b)(e);return Object(s.css)({"&:focus-within > div:last-child":{borderColor:t.base,boxShadow:"0 0 0 2px "+Object(Z.a)(t.base,.25)}})},V=function(e){var t=Object(Y.b)(e);return Object(s.css)({"&:focus":{borderColor:t.base,boxShadow:"0 0 0 2px "+Object(Z.a)(t.base,.25)}})},J=function(e,t){var a=Object(Y.b)(e);return Object(s.css)({backgroundColor:Object(Z.a)(a.base,t?1:.5),color:Y.a.white,fontWeight:q.e.bold,"&:hover":{backgroundColor:Object(Z.a)(a.base,t?1:.5)}})},K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function Q(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $=function(e){function t(){var a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=n=X(this,e.call.apply(e,[this].concat(i))),n.state={open:!1,activeMonth:null,activeDate:null},n.adjustDateToRange=function(e){var t=n.props,a=t.minDate,r=t.maxDate,i=e;return a&&j()(e,a)&&(i=a),r&&S()(e,r)&&(i=r),i},n.selectDate=function(e){var t=n.props,a=t.input,r=t.onChange,i=n.adjustDateToRange(e);n.setState({activeDate:i,activeMonth:i});var o=a.onChange||r;o&&o(i)},n.closePicker=function(e){n.setState({open:!1});var t=n.props.input.onBlur||n.props.onBlur;t&&t(e)},X(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.input,a=e.minDate,n=e.maxDate,r=e.onChange,i=Q(e,["input","minDate","maxDate","onChange"]),o=t.value||i.value,c=o?new Date(o):new Date;if(a||n){c=this.adjustDateToRange(c);var l=t.onChange||r;o&&l&&l(c)}this.setState({activeMonth:c,activeDate:c})},t.prototype.render=function(){var e=this,t=this.state,a=t.open,n=t.activeMonth,r=t.activeDate,i=this.props,c=i.meta,l=i.input,u=i.theme,d=i.className,h=i.helpText,b=i.tabIndex,y=i.readOnly,v=Q(i,["meta","input","theme","className","helpText","tabIndex","readOnly"]),E=l.name||v.name,O=c.touched&&c.error,k=l.value||v.value,z=v.formatter||w.a,T=P()(new Date(k))?z(k,"D MMMM YYYY"):"",N=H()(n),A=C()(N),R=p()(N,-A),q=new Array(g()(m()(N,1),N)+1).fill(new Array(7).fill(0)).map((function(t,a){return t.map((function(t,i){var o=f()(p()(R,i),a),c=!!v.minDate&&j()(D()(o),D()(v.minDate)),l=!!v.maxDate&&S()(_()(o),_()(v.maxDate));return K({day:w()(o,"D"),selected:x()(D()(r),D()(o))&&!!k,inMonth:I()(n,o),disabled:c||l},!c&&!l&&{onClick:function(){e.selectDate(o)}})}))}));return o.a.createElement("div",{className:Object(s.cx)(L.wrapper,d,G(u),O&&L.wrapperError)},a?[o.a.createElement("div",{className:L.body,tabIndex:"-1",key:"0"},o.a.createElement("div",{className:L.calendarHeader},o.a.createElement("div",{className:L.calendarNavigation,onClick:function(){return e.setState({activeMonth:m()(n,-1)})}},o.a.createElement(U.a,{name:"chevron-left",size:20,color:Y.a.grayChateau})),o.a.createElement("strong",null,w()(n,"MMMM YYYY")),o.a.createElement("div",{className:L.calendarNavigation,onClick:function(){return e.setState({activeMonth:m()(n,1)})}},o.a.createElement(U.a,{name:"chevron-right",size:20,color:Y.a.grayChateau}))),o.a.createElement("table",{className:L.calendar},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Su"),o.a.createElement("th",null,"Mo"),o.a.createElement("th",null,"Tu"),o.a.createElement("th",null,"We"),o.a.createElement("th",null,"Th"),o.a.createElement("th",null,"Fr"),o.a.createElement("th",null,"Sa"))),o.a.createElement("tbody",null,q.map((function(e,t){return o.a.createElement("tr",{key:t},e.map((function(e,t){return o.a.createElement("td",{key:t,className:Object(s.cx)(L.day,e.disabled&&L.dayDisabled,!e.inMonth&&L.dayOut)},o.a.createElement("span",{className:Object(s.cx)(L.dayWrapper,!e.inMonth&&L.dayWrapperOut,e.selected&&J(u,e.inMonth)),onClick:e.onClick},e.day))}),this))}),this))),o.a.createElement("div",{className:L.footer},o.a.createElement(F.a,{theme:u,size:"small",label:"Today",style:"outlined",onClick:function(){return e.selectDate(new Date)}}),o.a.createElement(F.a,{theme:u,size:"small",label:"Done",onClick:function(){return e.closePicker()}}))),o.a.createElement("div",{className:L.overlay,onClick:this.closePicker,key:"1"})]:null,o.a.createElement("div",{className:Object(s.cx)(L.label,V(u),a&&L.openLabel,O&&L.errorLabel),tabIndex:b,readOnly:y,onClick:function(t){if(a)e.closePicker();else{e.setState({open:!0});var n=l.onFocus||v.onFocus;n&&n(t)}}},o.a.createElement("input",K({},l,{type:"text",className:L.input,tabIndex:"-1",readOnly:!0,ref:function(t){return e.input=t},name:E,value:T,placeholder:v.placeholder,onBlur:function(e){return e.preventDefault()}})),o.a.createElement("div",{className:L.icon},o.a.createElement(U.a,{name:"calendar",size:18,color:O?Y.a.mandy:Y.a.geyser}))),h&&!O?o.a.createElement(W.a,{text:h}):null,O?o.a.createElement(M.a,{text:c.error}):null)},t}(i.Component);$.propTypes={meta:l.a.object,input:l.a.object,name:l.a.string,value:l.a.oneOfType([l.a.string,l.a.number]),placeholder:l.a.string,tabIndex:l.a.string,readOnly:l.a.bool,helpText:l.a.string,formatter:l.a.func,theme:l.a.oneOf(["","primary","secondary","success","warning","error","legacy","dark","tertiary","info"]),className:l.a.any,onChange:l.a.func,onFocus:l.a.func,onBlur:l.a.func,minDate:l.a.oneOfType([l.a.string,l.a.number,l.a.object]),maxDate:l.a.oneOfType([l.a.string,l.a.number,l.a.object])},$.defaultProps={meta:{},input:{},name:"",value:"",tabIndex:"0",theme:"primary"};var ee=$;t.a=ee}}]);
//# sourceMappingURL=271-be36013710ff905f88ba.js.map